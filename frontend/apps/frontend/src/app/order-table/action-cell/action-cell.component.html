<ng-template #delivered>
  <div class="modal-header bg-info">
    <h5 class="modal-title pull-left">Mark as Delivered</h5>
    <button
      type="button"
      class="close pull-right"
      aria-label="Close"
      (click)="modalRef.hide()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-mark-order-form
      [partyA]="'You'"
      [partyAAmount]="orderAmount"
      [partyB]="'Buyer'"
      [partyBAmount]="10"
      (submitted)="markDelivered()"
      (cancelled)="closeModal()"
    ></app-mark-order-form>
  </div>
</ng-template>

<ng-template #refund>
  <div class="modal-header bg-danger">
    <h5 class="modal-title pull-left">Refund to Buyer</h5>
    <button
      type="button"
      class="close pull-right"
      aria-label="Close"
      (click)="modalRef.hide()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-mark-order-form
      [partyA]="'You'"
      [partyAAmount]="0"
      [partyB]="'Merchant'"
      [partyBAmount]="amount"
      (submitted)="markRefund()"
      (cancelled)="closeModal()"
    ></app-mark-order-form>
  </div>
</ng-template>

<div
  class="btn-group btn-group-toggle"
  *ngIf="this.rowData.status === 'PendingResponse'"
>
  <button class="btn btn-outline-primary" (click)="openModal(delivered)">
    Delivered
  </button>
  <button class="btn btn-outline-danger" (click)="openModal(refund)">
    Refund
  </button>
</div>
